document.addEventListener('DOMContentLoaded', () => {     const botForm = document.getElementById('botForm');     const botsList = document.getElementById('botsList');      // Загрузка списка ботов при загрузке страницы     loadBots();      // Обработчик отправки формы     botForm.addEventListener('submit', async (e) => {         e.preventDefault();          const botName = document.getElementById('botName').value;         const botToken = document.getElementById('botToken').value;          try {             const response = await fetch('/api/bots', {                 method: 'POST',                 headers: {                     'Content-Type': 'application/json',                 },                 body: JSON.stringify({ name: botName, token: botToken }),             });              const result = await response.json();              if (response.ok) {                 alert(result.message);                 botForm.reset();                 loadBots();             } else {                 alert('Ошибка: ' + result.error);             }         } catch (error) {             alert('Ошибка сети: ' + error.message);         }     });      // Функция загрузки списка ботов     async function loadBots() {         try {             const response = await fetch('/api/bots');             const result = await response.json();              if (response.ok) {                 botsList.innerHTML = '';                 result.bots.forEach(botName => {                     const li = document.createElement('li');                     li.innerHTML = `                         <span>${botName}</span>                         <button class="delete-btn" data-name="${botName}">Удалить</button>                     `;                     botsList.appendChild(li);                 });                  // Добавляем обработчики для кнопок удаления                 document.querySelectorAll('.delete-btn').forEach(btn => {                     btn.addEventListener('click', deleteBot);                 });             } else {                 botsList.innerHTML = '<li>Ошибка загрузки списка ботов</li>';             }         } catch (error) {             botsList.innerHTML = '<li>Ошибка сети: ' + error.message + '</li>';         }     }      // Функция удаления бота     async function deleteBot(e) {         const botName = e.target.getAttribute('data-name');          if (confirm(`Вы уверены, что хотите удалить бота ${botName}?`)) {             try {                 const response = await fetch(`/api/bots/${botName}`, {                     method: 'DELETE',                 });                  const result = await response.json();                  if (response.ok) {                     alert(result.message);                     loadBots();                 } else {                     alert('Ошибка: ' + result.error);                 }             } catch (error) {                 alert('Ошибка сети: ' + error.message);             }         }     } });