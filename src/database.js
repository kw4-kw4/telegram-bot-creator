const sqlite3 = require('sqlite3').verbose(); const path = require('path');  // Создание или подключение к базе данных const dbPath = path.join(__dirname, '..', 'bots.db'); const db = new sqlite3.Database(dbPath, (err) => {   if (err) {     console.error('Ошибка подключения к базе данных:', err.message);   } else {     console.log('Подключено к базе данных SQLite');   } });  // Создание таблицы ботов db.serialize(() => {   db.run(`CREATE TABLE IF NOT EXISTS bots (     id INTEGER PRIMARY KEY AUTOINCREMENT,     name TEXT UNIQUE NOT NULL,     token TEXT NOT NULL,     created_at DATETIME DEFAULT CURRENT_TIMESTAMP,     is_active BOOLEAN DEFAULT 1   )`);    db.run(`CREATE TABLE IF NOT EXISTS bot_commands (     id INTEGER PRIMARY KEY AUTOINCREMENT,     bot_id INTEGER,     command TEXT NOT NULL,     response TEXT NOT NULL,     FOREIGN KEY (bot_id) REFERENCES bots (id)   )`); });  // Функции для работы с ботами const addBot = (name, token, callback) => {   const stmt = db.prepare('INSERT INTO bots (name, token) VALUES (?, ?)');   stmt.run([name, token], function(err) {     callback(err, this.lastID);   });   stmt.finalize(); };  const getBots = (callback) => {   db.all('SELECT * FROM bots', [], (err, rows) => {     callback(err, rows);   }); };  const getBotByName = (name, callback) => {   db.get('SELECT * FROM bots WHERE name = ?', [name], (err, row) => {     callback(err, row);   }); };  const deleteBot = (name, callback) => {   const stmt = db.prepare('DELETE FROM bots WHERE name = ?');   stmt.run([name], function(err) {     callback(err, this.changes);   });   stmt.finalize(); };  // Функции для работы с командами ботов const addBotCommand = (botId, command, response, callback) => {   const stmt = db.prepare('INSERT INTO bot_commands (bot_id, command, response) VALUES (?, ?, ?)');   stmt.run([botId, command, response], function(err) {     callback(err, this.lastID);   });   stmt.finalize(); };  const getBotCommands = (botId, callback) => {   db.all('SELECT * FROM bot_commands WHERE bot_id = ?', [botId], (err, rows) => {     callback(err, rows);   }); };  module.exports = {   db,   addBot,   getBots,   getBotByName,   deleteBot,   addBotCommand,   getBotCommands };