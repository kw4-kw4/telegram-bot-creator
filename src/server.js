const express = require('express'); const dotenv = require('dotenv'); const { Telegraf } = require('telegraf');  dotenv.config();  const app = express(); const PORT = process.env.PORT || 3000;  app.use(express.json()); app.use(express.static('public'));  // Хранилище для ботов (в реальном приложении используйте базу данных) const bots = new Map();  // Создание нового бота app.post('/api/bots', (req, res) => {   const { token, name } = req.body;    if (!token || !name) {     return res.status(400).json({ error: 'Требуются токен и имя бота' });   }    try {     const bot = new Telegraf(token);     bots.set(name, { bot, token });      // Пример обработчика команды /start     bot.start((ctx) => {       ctx.reply(`Привет! Я ${name} бот, созданный через веб-приложение!`);     });      // Запуск бота     bot.launch();      res.json({ success: true, message: `Бот ${name} успешно создан и запущен` });   } catch (error) {     res.status(500).json({ error: 'Ошибка при создании бота: ' + error.message });   } });  // Получение списка ботов app.get('/api/bots', (req, res) => {   const botList = Array.from(bots.keys());   res.json({ bots: botList }); });  // Остановка бота app.delete('/api/bots/:name', (req, res) => {   const { name } = req.params;   const botData = bots.get(name);    if (!botData) {     return res.status(404).json({ error: 'Бот не найден' });   }    botData.bot.stop();   bots.delete(name);    res.json({ success: true, message: `Бот ${name} остановлен` }); });  app.listen(PORT, () => {   console.log(`Сервер запущен на порту ${PORT}`); });